{"ast":null,"code":"import $ from 'jquery';\nimport { randomFloat, randomInteger } from '../site.js';\nimport { cookies, cps, increaseCookieCount } from './cookieHandler.js';\nconst maxGCookieLife = 13000;\nlet Tmin = 300; /*in seconds how long it takes for a cookie to appear*/\nlet Tmax = 900;\nlet nextSpawnInterval;\nlet goldenCookieClicks = 0;\nexport function convertGCookieTimeToMS() {\n  Tmin *= 1000;\n  Tmax *= 1000;\n}\n\n/**/\n\nexport function setNextSpawnTime() {\n  let nextSpawnTime = randomFloat(Tmin, Tmax);\n  /* nextSpawnTime is the actual delay*/\n  nextSpawnInterval = window.setTimeout(spawnCookie, nextSpawnTime);\n  console.log(`Golden cookie will spawn in ${nextSpawnTime / 1000} seconds`);\n}\nfunction spawnCookie() {\n  let cookie = document.createElement(\"img\");\n  cookie.src = \"/images/goldCookie.png\";\n  cookie.className = \"golden-cookie\";\n  cookie.style.top = randomFloat(10, 90) + \"%\";\n  cookie.style.left = randomFloat(10, 90) + \"%\";\n  /*when someone clicks on cookie*/\n  cookie.onclick = () => {\n    goldenCookieClicked(cookie);\n  };\n  document.getElementsByTagName(\"body\")[0].appendChild(cookie);\n  goldenCookieFadeIn(cookie);\n  setNextSpawnTime();\n}\n/*hw*/\nfunction goldenCookieClicked(cookie) {\n  goldenCookieClickeds++;\n  let cookieGValue = Math.round(cookies * 1.15 + 13);\n  let cookieGValue2 = cps * 900 + 13;\n  if (cookieGValue < 100 && cookieGValue2 < 100) {\n    increaseCookieCount(100);\n  } else {\n    increaseCookieCount(Math.min(cookieGValue, cookieGValue2));\n  }\n  cookie.remove();\n  increaseCookieCount(Math.max(cookieGValue, 100));\n  //console.log(cookie);\n}\n\nfunction goldenCookieFadeIn(cookie) {\n  let increaseScaleAmount = randomFloat(0.0006, 0.001);\n  /**/\n  let increaseOpacityAmount = increaseScaleAmount * 1.2;\n  cookie.style.scale = 0;\n  cookie.style.opacity = 0;\n  let scale = 0;\n  let opacity = 0;\n  let interval = setInterval(function () {\n    if (scale >= 1) {\n      clearInterval(interval);\n      cookie.dataset.timeSpawned = Date.now() + randomInteger(1000, 2000);\n    }\n    if (opacity < 1) {\n      opacity = Math.min(1, opacity + increaseOpacityAmount);\n      cookie.style.opacity = opacity;\n    }\n\n    /*Math.min ensures it cannot exceed 1*/\n    scale = Math.min(1, scale + increaseScaleAmount);\n    cookie.style.scale = scale;\n  }, 10);\n}\nfunction goldenCookieFadeOut(cookie) {\n  let decreaseOpacityAmount = randomFloat(0.0006, 0.001);\n  /**/\n  let increaseOpacityAmount = decreaseOpacityAmount * 0.6;\n  cookie.style.scale = 0;\n  cookie.style.opacity = 0;\n  let scale = 1;\n  let opacity = 1;\n  let interval = setInterval(function () {\n    if (scale <= 0) {\n      clearInterval(interval);\n      cookie.remove();\n    }\n    if (opacity > 0) {\n      opacity = Math.max(0, opacity - decreaseOpacityAmount);\n      cookie.style.opacity = opacity;\n    }\n\n    /*Math.min ensures it cannot exceed 1*/\n    scale = Math.max(0, scale - decreaseOpacityAmount);\n    cookie.style.scale = scale;\n  }, 10);\n}\nexport function removeGoldenCookie() {\n  let goldenCookies = $(\".golden-cookie\");\n  goldenCookies = Array.from(goldenCookies);\n  goldenCookies = goldenCookies.filter(function (item) {\n    return Date.now() - item.dataset.timeSpawned > maxGCookieLife;\n  });\n  for (let goldenCookie of goldenCookies) {\n    if (goldenCookie.style.scale >= 1) {\n      goldenCookieFadeOut(goldenCookie);\n    }\n  }\n}","map":{"version":3,"names":["$","randomFloat","randomInteger","cookies","cps","increaseCookieCount","maxGCookieLife","Tmin","Tmax","nextSpawnInterval","goldenCookieClicks","convertGCookieTimeToMS","setNextSpawnTime","nextSpawnTime","window","setTimeout","spawnCookie","console","log","cookie","document","createElement","src","className","style","top","left","onclick","goldenCookieClicked","getElementsByTagName","appendChild","goldenCookieFadeIn","goldenCookieClickeds","cookieGValue","Math","round","cookieGValue2","min","remove","max","increaseScaleAmount","increaseOpacityAmount","scale","opacity","interval","setInterval","clearInterval","dataset","timeSpawned","Date","now","goldenCookieFadeOut","decreaseOpacityAmount","removeGoldenCookie","goldenCookies","Array","from","filter","item","goldenCookie"],"sources":["C:/Users/lakho/OneDrive - southhills.edu/Documents/IT211/CookieClickerVue/CookieClickerVue/cookie-clicker_front-end/public/js/index/goldenCookie.js"],"sourcesContent":["import $ from 'jquery';\nimport {randomFloat,randomInteger} from '../site.js';\nimport {cookies, cps,increaseCookieCount} from './cookieHandler.js';\n\nconst maxGCookieLife = 13000;\nlet Tmin = 300;/*in seconds how long it takes for a cookie to appear*/\nlet Tmax = 900;\nlet nextSpawnInterval;\nlet goldenCookieClicks = 0;\n\nexport function convertGCookieTimeToMS()\n{\n    Tmin *= 1000;\n    Tmax *= 1000;\n}\n\n/**/\n\nexport function setNextSpawnTime()\n{\n    let nextSpawnTime = randomFloat(Tmin, Tmax);\n    /* nextSpawnTime is the actual delay*/\n    nextSpawnInterval = window.setTimeout(spawnCookie, nextSpawnTime);\n    console.log(`Golden cookie will spawn in ${nextSpawnTime / 1000} seconds`);\n}\n\n\nfunction spawnCookie()\n{\n    let cookie = document.createElement(\"img\");\n    cookie.src = \"/images/goldCookie.png\";\n    cookie.className = \"golden-cookie\";\n    cookie.style.top = randomFloat(10, 90) + \"%\";\n    cookie.style.left = randomFloat(10, 90) + \"%\";\n    /*when someone clicks on cookie*/\n    cookie.onclick = () => { goldenCookieClicked(cookie); };\n    document.getElementsByTagName(\"body\")[0].appendChild(cookie);\n    goldenCookieFadeIn(cookie);\n    setNextSpawnTime();\n}\n/*hw*/\nfunction goldenCookieClicked(cookie)\n{\n\n    goldenCookieClickeds++;\n    let cookieGValue = Math.round((cookies * 1.15) + 13);\n    let cookieGValue2 = (cps * 900) + 13;\n\n    if (cookieGValue < 100 && cookieGValue2 < 100) {\n        increaseCookieCount(100);\n    }\n    else\n    {\n        increaseCookieCount(Math.min(cookieGValue, cookieGValue2));\n\n    }\n\n    cookie.remove();\n    increaseCookieCount(Math.max(cookieGValue,100));\n    //console.log(cookie);\n}\n\nfunction goldenCookieFadeIn(cookie)\n{\n    let increaseScaleAmount = randomFloat(0.0006, 0.001);\n    /**/ \n    let increaseOpacityAmount = increaseScaleAmount * 1.2;\n    cookie.style.scale = 0;\n    cookie.style.opacity = 0;\n    let scale = 0;\n    let opacity = 0;\n    let interval = setInterval(function ()\n    {\n        if (scale >= 1)\n        {\n            clearInterval(interval);\n            cookie.dataset.timeSpawned = Date.now() + randomInteger(1000, 2000);\n        }\n\n        if (opacity < 1)\n        {\n            opacity = Math.min(1, opacity + increaseOpacityAmount);\n            cookie.style.opacity = opacity;\n        }\n\n        /*Math.min ensures it cannot exceed 1*/\n        scale = Math.min(1, scale + increaseScaleAmount);\n        cookie.style.scale = scale;\n\n    }, 10);\n}\n\nfunction goldenCookieFadeOut(cookie)\n{\n    let decreaseOpacityAmount = randomFloat(0.0006, 0.001);\n    /**/\n    let increaseOpacityAmount = decreaseOpacityAmount * 0.6;\n    cookie.style.scale = 0;\n    cookie.style.opacity = 0;\n    let scale = 1;\n    let opacity = 1;\n    let interval = setInterval(function () {\n        if (scale <= 0) {\n            clearInterval(interval);\n            cookie.remove();\n        }\n\n        if (opacity > 0) {\n            opacity = Math.max(0, opacity - decreaseOpacityAmount);\n            cookie.style.opacity = opacity;\n        }\n\n        /*Math.min ensures it cannot exceed 1*/\n        scale = Math.max(0, scale - decreaseOpacityAmount);\n        cookie.style.scale = scale;\n\n    }, 10);\n\n}\n\nexport function removeGoldenCookie()\n{\n    let goldenCookies = $(\".golden-cookie\");\n    goldenCookies = Array.from(goldenCookies);\n\n\n    goldenCookies = goldenCookies.filter(function (item)\n    {\n        return Date.now() - item.dataset.timeSpawned > maxGCookieLife;\n    });\n\n    for (let goldenCookie of goldenCookies)\n    {\n        if (goldenCookie.style.scale >= 1)\n        {\n            goldenCookieFadeOut(goldenCookie);\n        }\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}